<!doctype html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if IE 7]><html class="no-js lt-ie9 lt-ie8" lang="en"> <![endif]-->
<!--[if IE 8]><html class="no-js lt-ie9" lang="en"> <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" lang="en">
<!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- Begin Jekyll SEO tag v2.3.0 -->
<title>How a project gets tested and deployed with GitFlow | Red Ant</title>
<meta property="og:title" content="How a project gets tested and deployed with GitFlow" />
<meta name="author" content="Ben Still" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="How we manage our test and deploy workflow has changed massively over the years. Many moons ago we started off with no tests, manual publishing and not much of a workflow. We’ve gradually changed this as weve started making bigger sites with more complex requirements." />
<meta property="og:description" content="How we manage our test and deploy workflow has changed massively over the years. Many moons ago we started off with no tests, manual publishing and not much of a workflow. We’ve gradually changed this as weve started making bigger sites with more complex requirements." />
<link rel="canonical" href="https://redant.com.au/ruby-on-rails-devops/how-a-project-gets-tested-and-deployed-with-gitflow/" />
<meta property="og:url" content="https://redant.com.au/ruby-on-rails-devops/how-a-project-gets-tested-and-deployed-with-gitflow/" />
<meta property="og:site_name" content="Red Ant" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2012-02-24T00:00:00+00:00" />
<script type="application/ld+json">
{"name":null,"description":"How we manage our test and deploy workflow has changed massively over the years. Many moons ago we started off with no tests, manual publishing and not much of a workflow. We’ve gradually changed this as weve started making bigger sites with more complex requirements.","author":{"@type":"Person","name":"Ben Still"},"@type":"BlogPosting","url":"https://redant.com.au/ruby-on-rails-devops/how-a-project-gets-tested-and-deployed-with-gitflow/","publisher":null,"image":null,"headline":"How a project gets tested and deployed with GitFlow","dateModified":"2012-02-24T00:00:00+00:00","datePublished":"2012-02-24T00:00:00+00:00","sameAs":null,"mainEntityOfPage":{"@type":"WebPage","@id":"https://redant.com.au/ruby-on-rails-devops/how-a-project-gets-tested-and-deployed-with-gitflow/"},"@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

  <link rel="icon" href="/assets/webpack/favicon.f6ca223af6a4fa1fb307.ico">
  <link rel="apple-touch-icon" href="apple-touch-icon.png">
  <link rel="stylesheet" href="/assets/webpack/vendor.de6511bcfcef123290ba.css" />
  <link rel="stylesheet" href="/assets/webpack/app.66706d3e655944dc0380.css" />
  <!--[if lt IE 9]>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.min.js"></script>
  <![endif]-->
<meta name="google-site-verification" content="uky3VJEeD3NAFHIK0V4KLdxlYF7fGGXJYyyt96LLe78" />
  <!-- Fonts -->
  <script src="//use.typekit.net/apo0vqh.js"></script>
  <script>try{Typekit.load();}catch(e){}</script>

  
    <style>.async-hide { opacity: 0 !important} </style>

<script>
  var gtmId = window.location.host.includes("redant.com.au")
    ? "GTM-P7QNBDH"
    : "GTM-N3CM249";

  // Google Optimize page hiding snippet
  (function(a,s,y,n,c,h,i,d,e){s.className+=' '+y;
  h.end=i=function(){s.className=s.className.replace(RegExp(' ?'+y),'')};
  (a[n]=a[n]||[]).hide=h;setTimeout(function(){i();h.end=null},c);
  })(window,document.documentElement,'async-hide','dataLayer',500,{[gtmId]:true});

  // Google Tag Manager
  (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer',gtmId);
</script>

  

  
    <link rel="amphtml" href="https://redant.com.au/amp/ruby-on-rails-devops/how-a-project-gets-tested-and-deployed-with-gitflow.html">
  
</head>

<body class="">
  <div class="main-layout">
    
  <nav class="navbar nav-overlay">

  <div class="container">
    <div class="d-flex w-100">
      <div class="">
        <a href="/" class="navbar-brand">
          <img class="logo" src="/assets/webpack/logo.5f2c38db28fb4124af2e.svg" alt="Red Ant logo" />
        </a>
      </div>
      <div class="w-100">
        <div class="d-flex justify-content-end align-items-center">
          <a class="contact-us mr-3 text-sm" href="tel:+61292678300">Contact Us <strong class="d-block d-sm-inline-block">(02) 9267 8300</strong></a>
          <div class="nav-toggle-icon float-right">
            <span></span>
            <span></span>
            <span></span>
            <span></span>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="container nav-links mx-4 mx-md-auto">
    <ul class="links">
      <li>
        <a href="/" class="home-link">Home</a>
      </li>
      <li>
        <a href="/about/" class="about-link">About Red Ant</a>
      </li>
      <li>
        <a href="/our-approach/" class="our-approach-link">Our Approach</a>
      </li>
      <li>
        <a href="/portfolio/" class="portfolio-link">Portfolio</a>
      </li>
      <li>
        <a href="/blog/" class="news-and-ideas-link">Blog</a>
      </li>
      <li>
        <a href="/jobs/" class="jobs-link">Careers</a>
      </li>
      <li>
        <a href="/contact-us/">Contact</a>
      </li>
    </ul>
  </div>
</nav>
<div class="nav-spacer"></div>

    <section class="project-content pt-3 pb-5 text-md">
      <div class="container">
        <div class="row mb-4">
          <div id="breadcrumbs" class="text-capitalize mt-5">
  
  <a href="/">Home</a>
  
    
      / <a href="/ruby-on-rails-devops/">Ruby on rails devops</a>
    
  
    
      / How a project gets tested and deployed with gitflow
    
  
</div>

          <div class="col-12 mt-3 pt-5">
            <h1 class="post-title pb-2">How a project gets tested and deployed with GitFlow</h1>
            <hr>
          </div>
        </div>
        <div class="row">
          <div class="col-md-8">
            <p>How we manage our test and deploy workflow has changed massively over the years. Many moons ago we started off with no tests, manual publishing and not much of a workflow. We’ve gradually changed this as weve started making bigger sites with more complex requirements.</p>

<p>We still check things manually in a browser, but most of the heavy lifting is done via automated tests to check each aspect of the site. Once weve published a new version, it’s hard not to have a poke around to make sure everything is there- but we’re really relying on an automated deploy process to move that from the developers desktop, through staging and on to the production server.</p>

<p>It seems that development workflow is something that varies quite a lot between different companies or teams. Part of this is the size of projects they work on, and part of it is cultural.</p>

<ul>
  <li><strong>size of project</strong> - for a small static site made by a single developer, a complex workflow might be overkill. As a project grows and gets more people, things can start to get overlooked or broken pretty quickly. People get bogged down in the mundane and detailed steps of getting code onto a server. Days are lost, mistakes are made, everyone gets grumpy.</li>
  <li><strong>cultural (otherwise known as do you give a f-k?)</strong> - how can I put this diplomatically some teams seem to be more focused on getting things done quickly, or place more emphasis on how something looks rather than how it behaves. This can be a cultural thing- adjusting people and workflow that might have worked well in a traditional advertising agency (for example) can be difficult. Everyone needs to have a strong desire to make nice things well, and <strong>do it</strong> well.</li>
</ul>

<p>We’ve invested quite a bit in improving our workflow, so that we get very high reliability and confidence. Its meant taking people out of the equation and trying to automate each step. It also means that when we do hit a problem, we keep on tweaking the process to avoid a repeat. We’re now able to continually push up new work to the live site as it gets done.</p>

<p>To help explain where we are at with GitFlow, here is where we’ve been:</p>

<h2 id="ftp">FTP</h2>

<p>Back in the day a developer or designer would make code, and then manually copy files up to the server. This has quite a few flaws - apart from taking time, it is easy to miss a file or forget to change something. What happens to users on the site while you’re uploading new files over the top of what they are using?</p>

<h2 id="version-control">Version control</h2>

<p>We started using Version Control tools like Subversion to allow several developers to work at once and merge changes. The current version is then exported on to the server-ensuring the right version. Improved accuracy, but deployment still takes time and can be prone to errors.</p>

<h2 id="capistrano">Capistrano</h2>

<p>With our move to Rails, our projects were getting a lot bigger. Publishing was no longer about simply copying up some files- we needed to do things like running database migrations and dynamically changing configuration files. We wanted to be able to roll back to an earlier version if there were any issues.</p>

<p>We started using Capistrano to automate things, including checking out the right version, creating a completely new version of the site, and the switching over the web server once the deploy is complete. Over time we added more steps and made the process smarter to talk with other tools like JIRA and our wallboard. We also swapped over to Git for better control and speed in Version Control.</p>

<h2 id="jenkins-continuous-integration">Jenkins (Continuous Integration)</h2>

<p>We added Jenkins (or Jerkins as it is unkindly called when tests fail or take too long) to continually test projects as we work on them. Each of the stages <a href="/automated-testing/a-look-inside-our-jenkins-pipeline-how-we-make-reliable-stuff/">gets visualised in our Jenkins Pipeline</a>, which is like daytime TV for developers - you can sit and watch it all day.</p>

<h2 id="gitflow">GitFlow</h2>

<p>GitFlow helps us manage different releases and versions of a project. Think of it as a set of shortcuts that help manage Git workflow better. Were able to manage the release of different versions of the site, and all of the different branches of code that each of our developers are working on. GitFlow has also helped us improve the way we handle hotfixes, which are those urgent changes that simply must go live. To get a bit more detail on how GitFlow works, <a href="http://nvie.com/posts/a-successful-git-branching-model/">take a look at this post</a></p>

<p>There are lots of different issues that GitFlow solves for us. One example is just before releasing a big new feature, wed be unable to publish small changes as the big feature would block.</p>

<p>To explain: a developer would be working on a new feature, and they would merge their code and push it to staging for customer review. In the meantime, someone might pick up a bug that needs to get fixed. Were then faced with the dilemma of where to make the change - to the new release or the master version? That new feature can effectively block the deployment process until it gets signed off. The customer feels pressured to review and approve the feature so that the little change can get fixed. Previously, we would often end up spending time de-merging changes so that small urgent stuff could go up.</p>

<p>In a typical project, wed have 2-3 of these bigger features in the works, and then a fairly regular flow of small changes that need to go live. Using GitFlow, the small urgent changes get done as Hot Fixes. GitFlow then makes sure that these not only up to the live version, but also get integrated back into any separate features (branches) that other developers are working on.</p>

<p>As features are completed, they are merged back into the Develop branch, which <a href="/automated-testing/a-look-inside-our-jenkins-pipeline-how-we-make-reliable-stuff/">Jenkins then automatically deploys</a> to a development server for review. Once these are all approved, we make a release and these changes get added to the master version. These then get pushed up to the live production site.</p>

          </div>
          <div class="col-md-4">
            <hr class="hr-blue my-0">
            
            <div class="row gallery-tiles">
  
</div>

<div id="gallery-modal"
  class="modal fade"
  data-backdrop="static"
  aria-labelledby="gallery-modal"
  aria-hidden="true"
  role="dialog"
  tabindex="-1">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <section class="carousel-wrapper">
        <div class="carousel-arrows"></div>
        <div class="carousel">
          
        </div>
      </section>
    </div>
  </div>
</div>

          </div>
        </div>
      </div>
    </section>
    <section class="pb-5 d-none d-sm-block" data-read-more>
    </section>
    
  <section id="footer" class="ga-section py-5 bg-gray-light text-md">
    <div class="container">
      <div class="row">
        <div class="col-md-7">
          <p>
            Red Ant is a leading Ruby development agency. We're super cross functional. We provide a blended team of UX, strategy and technology. Local not offshore. Deliver quickly and then iterate.
          </p>
          <p>
            We use Open Source software, and apply an Agile project delivery methodology. We firmly believe in a blended team of designers, developers and strategists building the best digital experiences.
          </p>
        </div>

        <div class="col-md-5">
          <strong>Some of our work</strong>

          <ul class="unstyled-list mt-2">
            <li>
              <a href="/portfolio/tribe-influencer-marketplace/">Tribe</a>: Marketplace for influencers
            </li>
            <li>
              <a href="/portfolio/12wbt/">12WBT</a>: Health and Fitness app
            </li>
            <li>
              <a href="/portfolio/campaign-xpress/">CX</a>: Real Estate advertising engine
            </li>
            <li>
              <a href="/portfolio/nps-medicinewise/">NPS Medicinewise:</a> Govt drug information site
            </li>
          </ul>
        </div>
      </div>
    </div>
  </section>


<footer class="footer py-5">
  <div id="contact" class="container">
	  <div class="row">
      <div class="col-md-4">
        <ul class="unstyled-list">
          <li>
            <strong>Email </strong>
            <a href="mailto:info@redant.com.au">info@redant.com.au</a>
          </li>
          <li>
            <strong>Phone </strong>
            <a href="tel:+61292678300">+61 2 9267 8300</a>
          </li>
          <li>
            <a href="https://red-ant.github.io/codepact-agreements/privacy-f6855e8d5e271a3c942ad9ef47ffac5a.html">
              Red Ant Privacy Policy
            </a>
          </li>
        </ul>
      </div>

    	<div class="col-md-4">
        <ul class="unstyled-list icon-list">
          <li>
            <i class="fa fa-map-marker"></i>
            <a href="https://goo.gl/maps/aecDcCLqKCm" target="_blank">
              Find us on street view
            </a>
          </li>
          <li>
            <i class="fa fa-twitter"></i>
            <a href="https://twitter.com/r_e_d_a_n_t" target="_blank">
              The most mundane Twitter, ever
            </a>
          </li>
          <li>
            <i class="fa fa-linkedin-square"></i>
            <a href="https://www.linkedin.com/company/76862" target="_blank">
              Stalk us on Linkedin
            </a>
          </li>
        </ul>
      </div>

      <div class="col-md-4">
        493 Bourke St, Surry Hills Sydney NSW 2010 Australia
        <br>
        ABN 87 081 223 252
      </div>
<div class="col-md-12 text-center">
  <div class="links">
      <p><a href="/blog/" class="pri">Blog</a> |
      <a href="/automated-testing/">Automated Testing</a> |
      <a href="/mobile/">Mobile</a> |
      <a href="/software-development/">Ruby Development</a> |
      <a href="/our-work/">Our Work</a> |
      <a href="/red-ant-stuff/">Red Ant</a> |
      <a href="/ruby-on-rails-devops/">Devops</a> |
      <a href="/ruby-on-rails/">Ruby on Rails developer</a> |
      <a href="/strategy/">Strategy</a> |
      <a href="/our-work/">Work updates</a> |
      <a href="/tool-reviews/">Tool Reviews</a> | <br/>
	<a href="/portfolio/">Our Portfolio</a> |
	<a href="/about/">About Red Ant</a> |
	<a href="/our-approach/">Ruby on Rails Development Approach</a> | </p>
    </div></div>
      <div class="col text-center mt-3">
        &copy; Red Ant 2019
      </div>
    </div>
  </div>
</footer>

    <script src="/assets/webpack/vendor.de6511bcfcef123290ba.js"></script>
<script src="/assets/webpack/app.66706d3e655944dc0380.js"></script>

  </div>
</body>
</html>
